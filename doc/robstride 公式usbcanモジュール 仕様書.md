## USBCANモジュールの仕様（推測）

※ここに記載されている内容は公式の文書を元にしたものではなく、断片的な情報と経験則による推測です。記載に誤りを発見した場合は自由に修正してください。

### 物理インターフェース: シリアル通信
PCとはUSB経由で接続され、仮想COMポートとして認識されます。

- 通信プロトコル: ATコマンド形式
- すべてのフレームはAT ( 0x41 0x54 ) で始まり、改行コード (\r\n, 0x0d 0x0a) で終わります。

### フレーム構造 (PC → モジュール): 全長17バイト
- ヘッダ (2バイト): 0x41 0x54 ("AT")
- エンコード済みCAN ID (4バイト): 29ビットのCAN IDを、モジュール独自のルール (can_id_29bit << 3) | 4 に従って32ビットに変換し、ビッグエンディアンで格納します。
- フレーム情報 (1バイト): 0x08。データ長が8バイトの拡張フレームであることを示します。
- CANデータ (8バイト): モーターへ送信する8バイトのペイロードです。
- 終端コード (2バイト): 0x0D 0x0A ("\r\n")

### 応答フレーム (モジュール → PC)
- PCへ送られる応答も、上記と全く同じ17バイトのフォーマットに従います。